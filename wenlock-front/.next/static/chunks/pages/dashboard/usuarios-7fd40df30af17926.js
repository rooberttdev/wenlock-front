(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{157:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/usuarios",function(){return s(1694)}])},469:function(e,t,s){"use strict";s.d(t,{Mi:function(){return r},Nq:function(){return i},a$:function(){return n},h8:function(){return o},uh:function(){return l}});let a="https://wenlock-bakcend-570703476738.southamerica-east1.run.app",n=async e=>{let t=await fetch("".concat(a,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Erro ao cadastrar usu\xe1rio");return await t.json()},r=async e=>{let t=await fetch("".concat(a,"/users/").concat(e));if(!t.ok)throw Error("Erro ao buscar usu\xe1rio");return await t.json()},i=async(e,t)=>{let s=await fetch("".concat(a,"/users/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Erro ao atualizar usu\xe1rio");return await s.json()},l=async()=>{try{let e=await fetch("".concat(a,"/users")),t=await e.json();return Array.isArray(t)?t:[]}catch(e){return console.error("Erro ao buscar usu\xe1rios:",e),[]}},o=async e=>{try{if(!(await fetch("".concat(a,"/users/").concat(e),{method:"DELETE"})).ok)throw Error("Erro ao deletar o usu\xe1rio")}catch(e){throw console.error("Erro ao deletar o usu\xe1rio:",e),e}}},6092:function(e,t,s){"use strict";var a=s(5893),n=s(7294),r=s(1664),i=s.n(r),l=s(1163);t.Z=e=>{let t,s,r,o,{children:c}=e,[d,u]=(0,n.useState)("Usu\xe1rio"),[m,h]=(0,n.useState)("usuario@email.com"),[x,f]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[j,b]=(0,n.useState)(!1),[N,v]=(0,n.useState)(!1),w=(0,l.useRouter)();return(0,n.useEffect)(()=>{{let e=localStorage.getItem("userName")||"Milena Santana Borges",t=localStorage.getItem("userEmail")||"milena.santana@empresa.com.br";u(e),h(t)}},[]),(0,a.jsxs)("div",{className:"relative flex min-h-screen overflow-hidden",children:[(0,a.jsxs)("aside",{className:"".concat(p?"w-20":"w-64"," bg-terceiro opacity-100 min-h-screen flex flex-col justify-between transition-all duration-300 shadow-custom"),children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsx)("img",{src:p?"/logo-small.png":"/logo2.png",alt:"Logo",className:"transition-all duration-300 ".concat(p?"w-8 h-8":"max-w-48 h-auto")}),(0,a.jsx)("button",{onClick:()=>{g(!p),v(!1)},className:"focus:outline-none",children:(0,a.jsx)("img",{src:p?"/icone-menu-direita.png":"/icone-menu-esquerda.png",alt:"Toggle Sidebar",className:"h-6 w-6"})})]}),(0,a.jsxs)("nav",{className:"mt-10",children:[(0,a.jsxs)(i(),{href:"/dashboard",className:"flex items-center p-4 ".concat((t="/dashboard",w.pathname===t)?"bg-[#00AAC1] text-black":"hover:bg-segundo"),children:[(0,a.jsx)("img",{src:"/home-icon.png",alt:"Home",className:"h-6 w-6 mr-4"}),!p&&(0,a.jsx)("span",{className:"text-left font-bold text-white",children:"Home"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between cursor-pointer ".concat((s="/dashboard/usuarios",w.pathname===s&&p)?"bg-[#00AAC1] text-white":"hover:bg-segundo"),onClick:()=>{p?v(!N):f(!x)},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("img",{src:"/controle-icon.svg",alt:"Controle de Acesso",className:"h-6 w-6 mr-4"}),!p&&(0,a.jsx)("span",{className:"text-left font-bold text-white",children:"Controle de Acesso"})]}),(0,a.jsx)("img",{src:x?"/pra-baixo.svg":"/pra-cima.svg",alt:"Seta",className:"h-4 w-4 ml-2"})]}),N&&p&&(0,a.jsx)("div",{className:"absolute left-full top-0 bg-segundo rounded-lg shadow-lg w-48 p-4",children:(0,a.jsx)(i(),{href:"/dashboard/usuarios",className:"block font-bold p-2 ".concat((r="/dashboard/usuarios",w.pathname===r)?"bg-[#00AAC1] text-white":"hover:bg-terceiro rounded"),children:"Usu\xe1rios"})}),!p&&x&&(0,a.jsx)("div",{className:"pl-12",children:(0,a.jsxs)(i(),{href:"/dashboard/usuarios",className:"flex items-center p-4 ".concat((o="/dashboard/usuarios",w.pathname===o)?"bg-[#00AAC1] text-white":"hover:bg-segundo"),children:[(0,a.jsx)("img",{src:"/usuarios-icon.svg",alt:"Usu\xe1rios",className:"h-6 w-6 mr-4"}),(0,a.jsx)("span",{className:"text-left font-bold",children:"Usu\xe1rios"})]})})]})]})]}),(0,a.jsxs)("footer",{className:"p-4 text-left text-xs text-gray-400 ".concat(p?"text-center":""),children:[!p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"font-bold text-lg leading-10 text-white opacity-100 tracking-normal",children:"\xa9 WenLock"}),(0,a.jsx)("p",{className:"text-segundo",children:"Power by Conecthus"}),(0,a.jsx)("p",{className:"text-segundo",children:"V 0.0.0"})]}),p&&(0,a.jsx)("p",{className:"text-white",children:"V 0.0.0"})]})]}),(0,a.jsxs)("main",{className:"flex-1 bg-gray-100 relative",children:[(0,a.jsxs)("header",{className:"flex justify-between items-center p-6 bg-white text-black",children:[(0,a.jsx)("div",{className:"text-2xl font-bold"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>{b(!j)},className:"focus:outline-none",children:(0,a.jsxs)("div",{className:"bg-terceiro h-10 w-10 rounded-full flex items-center justify-center text-white font-bold",children:[d.split(" ").map(e=>e[0]).join("")," "]})}),j&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg p-2 z-10",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("div",{className:"bg-terceiro h-8 w-8 rounded-full flex items-center justify-center text-white font-bold",children:d.split(" ").map(e=>e[0]).join("")}),(0,a.jsxs)("div",{className:"ml-2",children:[(0,a.jsx)("p",{className:"font-bold text-xs text-quarto break-words",children:d}),(0,a.jsx)("p",{className:"text-[10px] text-gray-500 break-words",children:m})]})]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("userName"),localStorage.removeItem("userEmail"),localStorage.removeItem("token"),w.push("/login")},className:"flex items-center text-quarto font-bold hover:text-tertiary",children:[(0,a.jsx)("img",{src:"/logout.png",alt:"Sair",className:"h-4 w-4 mr-2"}),"Sair"]})]})]})]}),(0,a.jsx)("div",{children:c})]})]})}},1694:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(5893),n=s(7294),r=s(6092),i=s(1664),l=s.n(i);let o=e=>"number"==typeof e&&!isNaN(e),c=e=>"string"==typeof e,d=e=>"function"==typeof e,u=e=>(0,n.isValidElement)(e)||c(e)||d(e)||o(e);function m(e){let{enter:t,exit:s,appendPosition:a=!1,collapse:r=!0,collapseDuration:i=300}=e;return function(e){let{children:l,position:o,preventExitTransition:c,done:d,nodeRef:u,isIn:m,playToast:h}=e,x=a?`${t}--${o}`:t,f=a?`${s}--${o}`:s,p=(0,n.useRef)(0);return(0,n.useLayoutEffect)(()=>{let e=u.current,t=x.split(" "),s=a=>{a.target===u.current&&(h(),e.removeEventListener("animationend",s),e.removeEventListener("animationcancel",s),0===p.current&&"animationcancel"!==a.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",s),e.addEventListener("animationcancel",s)},[]),(0,n.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),r?function(e,t,s){void 0===s&&(s=300);let{scrollHeight:a,style:n}=e;requestAnimationFrame(()=>{n.minHeight="initial",n.height=a+"px",n.transition=`all ${s}ms`,requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,s)})})}(e,d,i):d()};m||(c?t():(p.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))},[m]),n.createElement(n.Fragment,null,l)}}let h=new Map,x=[],f=new Set,p=()=>h.size>0;function g(e,t){h.forEach(s=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===s.id&&s.toggle(e,null==t?void 0:t.id):s.toggle(e,null==t?void 0:t.id)})}let j=1,b=()=>""+j++;function N(e,t){return u(e)&&(p()||x.push({content:e,options:t}),h.forEach(s=>{s.buildToast(e,t)})),t.toastId}function v(e,t){return{...t,type:t&&t.type||e,toastId:t&&(c(t.toastId)||o(t.toastId))?t.toastId:b()}}function w(e){return(t,s)=>N(t,v(e,s))}function y(e,t){return N(e,v("default",t))}y.loading=(e,t)=>N(e,v("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),y.promise=function(e,t,s){let a,{pending:n,error:r,success:i}=t;n&&(a=c(n)?y.loading(n,s):y.loading(n.render,{...s,...n}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(e,t,n)=>{if(null==t)return void y.dismiss(a);let r={type:e,...l,...s,data:n},i=c(t)?{render:t}:t;return a?y.update(a,{...r,...i}):y(i.render,{...r,...i}),n},u=d(e)?e():e;return u.then(e=>o("success",i,e)).catch(e=>o("error",r,e)),u},y.success=w("success"),y.info=w("info"),y.error=w("error"),y.warning=w("warning"),y.warn=y.warning,y.dark=(e,t)=>N(e,v("default",{theme:"dark",...t})),y.dismiss=function(e){!function(e){var t;if(p()){if(null==e||c(t=e)||o(t))h.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=h.get(e.containerId);t?t.removeToast(e.id):h.forEach(t=>{t.removeToast(e.id)})}}else x=x.filter(t=>null!=e&&t.options.toastId!==e)}(e)},y.clearWaitingQueue=function(e){void 0===e&&(e={}),h.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},y.isActive=function(e,t){var s;if(t)return!(null==(s=h.get(t))||!s.isToastActive(e));let a=!1;return h.forEach(t=>{t.isToastActive(e)&&(a=!0)}),a},y.update=function(e,t){void 0===t&&(t={});let s=((e,t)=>{var s;let{containerId:a}=t;return null==(s=h.get(a||1))?void 0:s.toasts.get(e)})(e,t);if(s){let{props:a,content:n}=s,r={delay:100,...a,...t,toastId:t.toastId||e,updateId:b()};r.toastId!==e&&(r.staleId=e);let i=r.render||n;delete r.render,N(i,r)}},y.done=e=>{y.update(e,{progress:1})},y.onChange=function(e){return f.add(e),()=>{f.delete(e)}},y.play=e=>g(!0,e),y.pause=e=>g(!1,e),"undefined"!=typeof window?n.useLayoutEffect:n.useEffect;let E=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}};m(E("bounce",!0)),m(E("slide",!0)),m(E("zoom")),m(E("flip")),s(7677);var k=s(469),C=()=>{let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)(""),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(null),[h,x]=(0,n.useState)(!1),[f,p]=(0,n.useState)(!1),[g,j]=(0,n.useState)(null),b=async()=>{let e=await (0,k.uh)();t(e),d(e),r(!1)},N=t=>{o(t),""===t.trim()?d(e):d(e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())))},v=e=>{j(e),p(!0)},w=async()=>{if(g)try{await (0,k.h8)(g.id),t(e.filter(e=>e.id!==g.id)),d(c.filter(e=>e.id!==g.id))}catch(e){console.error("Erro ao deletar o usu\xe1rio"),y.error("Erro ao excluir o usu\xe1rio.")}E()},E=()=>{p(!1),j(null)},C=e=>{m(e),x(!0),document.body.style.overflow="hidden"};return((0,n.useEffect)(()=>{b()},[]),s)?(0,a.jsx)("p",{children:"Carregando..."}):(0,a.jsxs)("div",{className:"min-h-screen p-6 bg-gray-100 relative",children:[(0,a.jsx)("div",{className:"text-4xl font-bold text-black p-4",children:(0,a.jsx)("h1",{children:"Usu\xe1rios"})}),(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4 ",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"text",placeholder:"\uD83D\uDD0D Pesquisa",value:i,onChange:e=>N(e.target.value),className:"border rounded-lg px-4 py-2 w-64"})}),(0,a.jsx)(l(),{href:"/dashboard/cadastrar-usuario",className:"bg-quarto hover:bg-tertiary-dark text-white font-bold py-2 px-6 rounded",children:"+ Cadastrar Usu\xe1rio"})]}),0===c.length&&""===i.trim()?(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)("img",{src:"/pesquisa.png",alt:"Nenhum resultado encontrado",className:"mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Nenhum Usu\xe1rio Registrado"}),(0,a.jsx)("p",{className:"text-sm",children:'Clique em "Cadastrar Usu\xe1rio" para come\xe7ar a cadastrar.'})]}):0===c.length?(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)("img",{src:"/pesquisa.png",alt:"Nenhum resultado encontrado",className:"mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Nenhum Resultado Encontrado"}),(0,a.jsx)("p",{className:"text-sm",children:"N\xe3o foi poss\xedvel achar nenhum resultado para sua busca. Tente refazer a pesquisa."})]}):(0,a.jsx)("div",{children:(0,a.jsxs)("table",{className:"min-w-full table-auto",children:[(0,a.jsx)("thead",{className:"bg-terceiro ",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left text-white",children:"Nome"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right text-white",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"shadow-md",children:c.map(e=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"px-4 py-2",children:e.name}),(0,a.jsxs)("td",{className:"px-4 py-2 text-right",children:[(0,a.jsx)("button",{className:"mr-2",onClick:()=>C(e),children:(0,a.jsx)("img",{src:"/visualizar.png",alt:"Visualizar",className:"inline-block h-6 w-6"})}),(0,a.jsx)(l(),{href:"/dashboard/editar-usuario?id=".concat(e.id),className:"mr-2",children:(0,a.jsx)("img",{src:"/editar.png",alt:"Editar",className:"inline-block h-6 w-6"})}),(0,a.jsx)("button",{onClick:()=>v(e),children:(0,a.jsx)("img",{src:"/deletar.png",alt:"Deletar",className:"inline-block h-6 w-6"})})]})]},e.id))})]})}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm",children:["Total de Itens: ",c.length]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"Itens por p\xe1gina"}),(0,a.jsxs)("select",{className:"border rounded-lg px-2 py-1",children:[(0,a.jsx)("option",{value:"15",children:"15"}),(0,a.jsx)("option",{value:"30",children:"30"}),(0,a.jsx)("option",{value:"50",children:"50"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{className:"px-2",children:"<"}),(0,a.jsx)("span",{className:"text-sm",children:"1"}),(0,a.jsx)("button",{className:"px-2",children:">"})]}),(0,a.jsx)("span",{className:"text-sm",children:"de 10"})]})]})})]}),f&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Confirma\xe7\xe3o de Exclus\xe3o"}),(0,a.jsxs)("p",{children:["Voc\xea tem certeza que deseja excluir o usu\xe1rio ",(0,a.jsx)("strong",{children:null==g?void 0:g.name}),"?"]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-4",children:[(0,a.jsx)("button",{onClick:w,className:"bg-red-500 text-white px-4 py-2 rounded",children:"Confirmar"}),(0,a.jsx)("button",{onClick:E,className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Cancelar"})]})]})}),h&&u&&(0,a.jsxs)("div",{className:"fixed top-0 right-0 h-full bg-white shadow-lg p-6 z-50",style:{width:"614px",boxShadow:"-7px 0px 27px #0000001A",borderRadius:"6px 0px 0px 6px"},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Visualizar Usu\xe1rio"}),(0,a.jsx)("button",{onClick:()=>{x(!1),m(null),document.body.style.overflow="auto"},children:"✖"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Dados do Usu\xe1rio"}),(0,a.jsx)("hr",{className:"my-4"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Nome:"})," ",u.name]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Matr\xedcula:"})," ",u.registration_number]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"E-mail:"})," ",u.email]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Detalhes"}),(0,a.jsx)("hr",{className:"my-4"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Data de cria\xe7\xe3o:"})," ",new Date().toLocaleDateString()]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"\xdaltima edi\xe7\xe3o:"})," Nenhuma"]})]})]})]})},S=()=>(0,a.jsx)(r.Z,{children:(0,a.jsx)(C,{})})},7677:function(){}},function(e){e.O(0,[424,888,774,179],function(){return e(e.s=157)}),_N_E=e.O()}]);